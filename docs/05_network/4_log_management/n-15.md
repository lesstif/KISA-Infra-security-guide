# N-15: NTP 및 시각 동기화 설정

**분류**: Network Equipment

**중요도**: 중

---

## 개요

### 점검 내용

네트워크 장비의 NTP 서버 연동 및 시간 동기화 설정 적용 여부 점검

### 점검 목적

시스템 운영 또는 보안 사고 발생으로 인한 로그 분석 과정에서 이벤트 간의 인과 관계 파악에 도움을 주고 로그 자체의 신뢰성을 갖도록 하기 위함

### 보안 위협

시스템 간 시간 동기화 미흡으로 보안 사고 및 장애 발생 시 로그에 대한 신뢰도 확보가 미흡해짐

### 참고

!!! info "참고"
    IOS 12.2 이전 버전을 사용하는 장비에는 접근 통제(ACL) 설정이 되어 있어야 양호

## 점검 대상 및 판단 기준

### 대상

Cisco, Alteon, Juniper 등

### 판단 기준

**✅ 양호**: NTP 서버를 통한 시스템 간 실시간 시간 동기화가 설정된 경우

**❌ 취약**: NTP 서버와 연동되어 있지 않아 시스템 간 실시간 시간 동기화 설정이 되어있지 않은 경우

## 조치 방법

NTP 사용 시 신뢰할 수 있는 서버로 설정

### 조치 시 영향

일반적인 경우 영향 없음

## 점검 및 조치 사례

### Cisco IOS

1.  **NTP 서버 설정 확인**
    ```bash
    Router# show running-config
    ```
2.  **Global Configuration 모드에서 `ntp server` 명령을 실행**
    ```bash
    Router# config terminal
    Router(config)# ntp server <NTP 서버 IP>
    ```

### Radware Alteon

1.  **/sys/ntp에서 NTP 서버 설정 확인**
2.  **`# cfg`**
    ```bash
    # /sys/ntp
    # on
    # prisrvr [NTP 서버 IP]
    # intrval [동기화 주기]
    # tzone +9:00
    # apply
    # save
    ```

### Juniper Junos

1.  **root authentication 설정을 이용하여 `[edit system]` 레벨에서 NTP 서비스 설정 확인**
    ```bash
    user@host> configure
    [edit]
    user@host# show
    ```
2.  **NTP 서버와 네트워크 장비가 부팅될 때 시간 동기화를 위한 NTP 부트 서버를 설정**
    ```bash
    user@host> configure
    [edit]
    user@host# edit system ntp

    [edit system ntp]
    user@host# set server <NTP 서버 IP>
    user@host# set boot-server <NTP 부트 서버 IP>
    ```

    !!! info "참고"
        네트워크 장비와 NTP 서버 간 시간 차이가 1000초 이상 다르면 시간 동기화를 하지 않기 때문에 부팅 단계에서 정확한 시간을 확보하도록 부트 서버를 구성

