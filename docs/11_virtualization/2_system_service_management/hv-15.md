# HV-15: 시스템 주요 이벤트 로그 설정

**분류**: Virtualization

**중요도**: 상

---

## 개요

### 점검 내용

시스템 주요 이벤트 로그가 설정 여부 점검

### 점검 목적

시스템 주요 이벤트 로그를 설정해 시스템 문제 발생 시 보안, 성능 등의 이슈를 파악하기 위함

### 보안 위협

시스템 주요 이벤트 로그가 설정되어 있지 않으면 시스템 문제 발생 시 보안, 성능 등의 이슈를 파악할 수 없는 위험이 존재함

### 참고

-

## 점검 대상 및 판단 기준

### 대상

VMware ESXi, vCenter, KVM

### 판단 기준

**✅ 양호**: 로그 기록 정책이 내부 정책에 부합하게 설정된 경우

**❌ 취약**: 로그 기록 정책이 내부 정책에 부합하게 설정되지 않은 경우

## 조치 방법

로그 기록 정책을 내부 정책에 부합하게 설정

### 조치 시 영향

일반적 경우 영향 없음

## 점검 및 조치 사례

### VMware ESXi

**Step 1) Web 콘솔 페이지 접속**

`https://<VMware ESXi IP>`

**Step 2) 호스트 > 관리 > 시스템 > 고급 설정으로 이동**

**Step 3) Config.HostAgent.log.level 설정값 확인**

**[ Config.HostAgent.log.level 설정값 확인 ]**

**Step 4) 로그 기록 정책 확인 후, [옵션 편집]을 클릭해 내부 정책에 맞게 설정**

**[ Config.HostAgent.log.level 설정 적용 ]**

!!! info "log.level 설정값"
    *   **None**: 로그 기록하지 않음
    *   **Quiet**: 최소한의 로그 항목을 기록함
    *   **Panic**: 패닉 로그(장애 발생 시 기록되는 메시지) 항목만 기록함
    *   **Error**: 패닉 및 에러 로그 항목만 기록함
    *   **Warning**: 패닉, 에러 및 경고 로그 항목만 기록함
    *   **Information**: 패닉, 에러, 경고 및 정보 로그 항목을 기록함
    *   **Verbose**: 패닉, 에러, 경고, 정보 및 세부 정보를 표시하는 로그 항목을 기록함
    *   **Trivia**: 패닉, 에러, 경고, 정보, 세부 정보 표시 및 기타 정보를 표시하는 로그 항목을 기록함

### VMware vCenter

**Step 1) 로그 설정 레벨 확인**

**Step 2) vSphere Client 접속 후, 다음 메뉴에 접근하여 확인(vSphere Client 버전에 따라, 메뉴 명칭은 달라질 수 있음)**

*   `(vCenter6.5)` "호스트 및 클러스터" > [vCenter 서버] > "구성" > "설정" > "고급 설정" > "config.log.level" 확인
*   `(vCenter8)` "호스트 및 클러스터" > [vCenter 서버] > "구성" > "설정" > "고급 설정" > "config.log.level" 확인

### KVM

**Step 1) 호스트에 접속**

**Step 2) libvirt 설정파일을 확인하여 로그 레벨 확인**

```bash
$ cat /etc/libvirt/libvirtd.conf
```

**Step 3) libvirt 설정파일의 log_level 설정 구문 수정**

```bash
$ log_level = 
```

**Step 4) 변경 사항 적용을 위해 libvirt 데몬 재시작**

```bash
$ systemctl restart libvirtd.service
```

!!! info "log.level 설정값"
    *   **ERROR**: 오류 메시지만 기록함
    *   **WARNING**: 경고 및 오류를 기록함
    *   **INFO**: 디버그 항목이 아닌 모든 항목을 기록함
    *   **DEBUG**: 디버그 항목 및 모든 항목을 기록함

